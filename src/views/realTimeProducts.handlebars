<section >
    <p>¡Bienvenido !</p>
	<p><span class="bold">Nombre: </span>{{user.name}}</p>
    <p>{{#if user.lastname}}<span class="bold">Apellido </span>{{user.lastname}}</p>{{/if}}
    <p><span class="bold">Edad: </span>{{user.age}}</p>
    <p>{{#if user.email}}<span class="bold">Email: </span>{{user.email}}</p>{{/if}}
    <p><span class="bold">Rol: </span>{{ user.role}}</p>
	<a href="/products">Products</a><br>
    <a href="/logout">Salir</a>
</section>

  <form id="add-product-form" class="form">
  <legend id="legend">Agregar Productos</legend>

  <label for="title">Title:
    <input type="text" id="title" name="title" required placeholder="Coloque el titulo"/></label>

  <label for="description">Description:
    <textarea id="description" name="description" required placeholder="Coloque la descripcion"></textarea>
  </label>

  <label for="code">Code:<input type="text" id="code" name="code" required placeholder="Coloque el codigo" /></label>

  	<label for="price">Price:
    	<input type="text" id="price" name="price"  title="Ingrese un número válido"required placeholder="Coloque el precio"/>
	</label>

  <div class="status-container">
    <p>Status:</p>

		<div class="status-options">
        	<label for="status-true" class="status-option">True</label>
          	<input type="radio" id="status-true" name="status" value="true" checked />
        

        	<label for="status-false" class="status-option">False </label>
          	<input type="radio" id="status-false" name="status" value="false" />
       
      	</div>
	  </div>
    </label>

  </div>

  <label for="stock">Stock:
    <input type="number" id="stock" name="stock" required placeholder="Coloque el stock"/>
  </label>

  <label for="category">Category:
    <input type="text" id="category" name="category" required placeholder="Coloque la categoria"/>
  </label>

  <label for="thumbnails">Thumbnails:
    
    <input type="text" id="thumbnails" name="thumbnails" placeholder="Coloque la URL " />
  </label>

  <input type="submit" value="Agregar" id="agregar" />
</form>
</div>

<h2 id="listaproductos">Lista de Productos</h2>

<section class="productsContainer" >
	{{#if noProducts}}
	<p>No hay productos disponibles</p>
	{{else}}

<table id="productos" class="table">
  <tr>
    <th>Id</th>
    <th>Title</th>
    <th>Description</th>
    <th>Code</th>
    <th>Price</th>
    <th>Status</th>
    <th>Stock</th>
    <th>Category</th>
    <th>Delete</th>
  </tr>
  {{#each products}}
  <tr id="{{this._id}}">
    <td>{{this._id}}</td>
    <td><input type="text" value="{{this.title}}" contenteditable="true" /></td>
    <td><input type="text" value="{{this.description}}" contenteditable="true" /></td>
    <td><input type="text" value="{{this.code}}" contenteditable="true" /></td>
    <td><input type="text" value="{{this.price}}" contenteditable="true" /></td>
    <td><input type="text" value="{{this.status}}" contenteditable="true" /></td>
    <td><input type="text" value="{{this.stock}}" contenteditable="true" /></td>
    <td><input type="text" value="{{this.category}}" contenteditable="true" /></td>
    <td>
      <button class="deleteButton" id="deleteButton_{{this._id}}" onclick="deleteProduct('{{this._id}}')">Eliminar</button>
    </td>
  </tr>
  {{/each}}
  </table>
  <article class="pagination">
    <p>Pagina {{productsData.page}} de {{productsData.totalPages}}</p>
    <div class="linksContainer">
      {{#if productsData.hasPrevPage}}
      <a href="{{generatePaginationLink productsData.prevPage}}">Pagina anterior</a>
      {{/if}}
      {{#if productsData.hasNextPage}}
      <a href="{{generatePaginationLink productsData.nextPage}}">Pagina siguiente</a>
      {{/if}}
    </div>
  </article>
  {{/if}}
</section>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/realTimeProducts.js"></script>